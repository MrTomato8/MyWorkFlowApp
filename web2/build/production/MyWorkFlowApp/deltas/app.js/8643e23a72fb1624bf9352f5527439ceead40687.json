["function _1ca40196b635770a8d2bcdb9c732fea918aa9e66",50,586593,"Ext.define",588469,40,321046,36,"refs:{mytabpanel:\"tabpanel[id=mytabpanel]\",list:\"list[id=MyJsonList]\",list2:\"list[id=MyJsonList2]\",nestedList:\"nestedlist\",myContainer:\"#mycontainer\",itemEditPanel:\"itemeditpanel[id=itemeditpanel]\"},control:{'button[itemId=\"add\"]':{tap:\"add\"},'button[itemId=\"add2\"]':{tap:\"add2\"},'button[itemId=\"edit\"]':{tap:\"edit\"},'button[itemId=\"edit2\"]':{tap:\"edit2\"},'button[itemId=\"delete\"]':{tap:\"del\"},'button[itemId=\"markdone\"]':{tap:\"markdone\"},'button[itemId=\"markdone2\"]':{tap:\"markdone2\"},'button[itemId=\"load\"]':{tap:\"load\"},'button[itemId=\"save\"]':{tap:\"save\"},'button[itemId=\"refreshList\"]':{tap:\"refreshList\"},'button[itemId=\"refreshList2\"]':{tap:\"refreshList2\"},mytabpanel:{activeitemchange:\"activate\"},nestedList:{itemtap:\"itemtap\",itemtaphold:\"itemtaphold\",back:\"back\"},mynestedlist:{itemtap:\"itemtap\",itemtaphold:\"itemtaphold\",initialize:\"listInit\",back:\"back\"},viewport:{orientationchange:\"onOrientationchange\"}}},launch:function(a){},loadException:function(){var store=Ext.create(\"Ext.data.Store\",{model:",586432,41,"});store.load();var rec=store.getAt(0);var myjsondata=\"\";if(rec&&rec.data&&rec.data.jsondata){myjsondata=rec.data.jsondata}myjsondata=eval(myjsondata);var treestore",595091,33,"treestore.setProxy({type:\"memory\",data:myjsondata});treestore.load()},activate:function(c,e,b,d){var a=e.query(\"#MyJsonList\");var f=a[0];if(f){this.refreshList()}},itemtap:function(f,d,b,h,a,g,c){this.currentList=d;this.currentRecord=a;this.getItemEditPanel().setRecord(this.currentRecord)},itemtaphold:function(g,f,b,i,a,h,c){this.currentList=f;this.currentRecord=a;var d=g.up(\"maintabpanel\").query(\"actionsheet\")[0];d.show()},listInit:function(){var b=this.getNestedList();var a=b.getDockedItems();a[0].insert(a.length-1,{text:\"+\",id:\"add\"})},back:function(e,d,c,a,b){this.currentRecord=d.parentNode},add:function(a,h,d,f,c,g,i){var h=this.getList();var a=this.getNestedList();if(!this.currentRecord){this.currentRecord=a.getStore().getRoot()}var j=this.currentRecord.appendChild({dateCreated:(new Date()).getTime(),checked:false,priority:0,text:\"Hellow World!\",leaf:false,cls:\"folder\",children:[]});this.getPopUp();this.popup.show();var b=this.popup.query(\"formpanel\")[0];b.setRecord(j)},add2:function(a,h,d,f,c,g,i){var h=this.getList();var a=this.getNestedList();this.currentRecord=a.getStore().getRoot().findChild(\"text\",\"INBOX\");var j=this.currentRecord.appendChild({dateCreated:(new Date()).getTime(),checked:false,priority:0,text:\"Hellow World!\",leaf:false,cls:\"folder\",children:[]});this.getPopUp();this.popup.show();var b=this.popup.query(\"formpanel\")[0];b.setRecord(j)},del:function(){var b=this.getList();var a=this.getNestedList()},markdone:function(){var c=this.getList();var b=this.getNestedList();var a=c.getSelection()[0];if(a.data.checked){a.data.checked=false;a.original.data.checked=false}else{a.data.checked=true;a.original.data.checked=true;a.original.data.dateFinished=(new Date()).getTime()}this.save();c.refresh()},markdone2:function(){var c=this.getList2();var b=this.getNestedList();var a=c.getSelection()[0];if(a.data.checked){a.data.checked=false;a.original.data.checked=false;if(!Ext.isString(a.original.data.last30dayTimestamps)){a.original.data.last30dayTimestamps=\"\"}var d=a.original.data.last30dayTimestamps.split(\",\");d.pop();a.original.data.last30dayTimestamps=d.join(\",\")}else{a.data.checked=true;a.original.data.checked=true;if(!Ext.isString(a.original.data.last30dayTimestamps)){a.original.data.last30dayTimestamps=\"\"}var d=a.original.data.last30dayTimestamps.split(\",\");d.push((new Date()).getTime());a.original.data.last30dayTimestamps=d.join(\",\")}this.save();c.refresh()},edit:function(){var c=this.getList();var b=this.getNestedList();this.getPopUp();if(!this.currentRecord){this.currentRecord=b.getStore().getRoot()}this.popup.show();var a=this.popup.query(\"formpanel\")[0];a.setRecord(this.currentRecord)},edit2:function(){var c=this.getList();var a=c.getSelection()[0];if(a){this.getPopUp();this.popup.show();var b=this.popup.query(\"formpanel\")[0];b.setRecord(a.original)}},load:function(){var d=this.getList();var c=this.getNestedList();var b=c.getStore();var a=",593019,38,"TreeStore\",{storeId:\"\"+new Date().getTime()});c.setStore(a);",406493,33,"b);b.destory()},save:function(){var f=this.getList();var e=this.getNestedList();var c=e.getStore().getRoot();var a=c.childrenToJSON();console.info(a);var d=function(){",588112,67,"MyWorkFlowWebApp/php/PetProjects_local.php",588201,100,"php/PetProjects.php\"}}}();var h={jsondata:a}",588013,78,"h.username=urlParams.username}Ext.Ajax.request({url:d,params:h});var b=Ext.create(\"Ext.data.Store\",{model:",586432,41,"});b.load();var g=Ext.creat",586430,45,"jsondata:a});b.add(g);b.sync()},getPopUp:function(){if(!this.popup){this.popup=Ext.Viewport.add(Ext.create(\"Ext.Panel\",{centered:true,modal:true,showAnimation:{type:\"fadeIn\",duration:250},hideAnimation:{type:\"fadeOut\",duration:250},width:\"90%\",height:500,layout:\"fit\",items:[{xtype:\"titlebar\",docked:\"top\",title:\"PopUp\",items:[{text:\"Close\",align:\"right\",handler:function(a){a.up(\"panel\").hide()}}]},{xtype:\"formpanel",593541,509,"popup.hide(",594043,37,"}]}))}return this.popup},refreshList:function(){var c=this.getNestedList();var a=c.getStore().getRoot();var b=[];a.cascadeBy(function(e){e.data.calc_priority=0;e.bubble(function(f){e.data.calc_priority+=f.data.priority;if(e!==f&&f.data.priority>0){f.dont_include_me=true}})},this);a.cascadeBy(function(e){if(e.data.priority>0&&!e.data.checked&&e.data.freq!==\"daily\"){if(!Ext.isBoolean(e.dont_include_me)||!e.dont_include_me){var f=e.copy();f.original=e;b.push(f)}}},this);var d=Ext.getStore(\"MyJsonStore\");d.removeAll();d.add(b);d.sort()},refreshList2:function(){var d=this.getNestedList();var b=d.getStore().getRoot();var c=[];function a(f){var g=true;if(f.childNodes.length===0){return true}else{f.cascadeBy(function(h){if(!h.data.checked){g=false}});return g}}b.cascadeBy(function(k){if(k.data.freq===\"daily\"&&a(k)&&k.data.checked){var l=k.data.last30dayTimestamps.split(\",\");var j=l.pop();if(Ext.isNumeric(j)){var h=new Date(j*1);var g=new Date();var f=Ext.Date.clearTime(new Date());var i=Ext.Date.between(h,f,g);if(!i){k.data.checked=false}}else{k.data.checked=false}}},this);b.cascadeBy(function(f){if(f.data.freq===\"daily\"&&a(f)&&!f.data.checked){var g=f.copy();g.original=f;c.push(g)}},this);var e=Ext.getStore(\"MyJsonStore2\");e.removeAll();e.add(c);e.sort()},onOrientationchange:function(b,c,d,a){console.log(\"Viewport orientation just changed\");console.log(a);console.log(d);if(d>a){c=\"landscape\"}else{c=\"portrait\"}console.log(\"Orientation is \"+c);if(c==\"landscape\"){this.getMyContainer().add(this.getItemEditPanel())}if(c==\"portrait\"){this.getMyContainer().remove(this.getItemEditPanel(),false,false)",586638,2702,590084,356,589346,738,590434,3784,594230,327,"controllers:[",588470,39,"],models:[\"MyWorkFlowApp.model.MyModel\",",586432,41,"],stores:[",591308,37,",",593030,33,"]",594556,838]