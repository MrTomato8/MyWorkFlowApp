["/*9747814dd70211d463fe0262e496189b012c4481",42,228256,356731,1903,228294,4785,358634,6923,233083,3586,365553,691,236669,29388,269049,11082,370944,2188,280131,463,373132,17013,280594,48811,"e",329406,53,",\"date\");var d",329466,51,",\"dateCreated\",\"dateFinished\",\"last30dayTimestamps\",\"freq\");for(var b in a){if(d.inArray(b)){if(Ext.isString(a[b])){e+='\"'+b+'\": \"'+a[b]+'\",'}else{if(Ext.isDate(a[b])){var c=a[b]?a[b].getTime():\"\";e+='\"'+b+'\": \"'+c+'\",'}else{if(Ext.isPrimitive(a[b])){e+='\"'+b+'\": '+a[b]+\",\"}}}}}return trim(e",329650,133,"freq\",type:\"string\",convert:function(a,b){return !a?\"once\":a}},",329776,93,",dateFormat:\"time\"},{name:\"endDate\",type:\"date\",dateFormat:\"time\"},{name:\"dateCreated\",type:\"date\",dateFormat:\"time\"},{name:\"dateFinished\",type:\"date\",dateFormat:\"time\"},{name:\"last30dayTimestamps\",type:\"string",329897,257,"if(window.location.hostname===\"sunnyjacob.co.uk\")",267805,44,330117,44,"change host name settings\"}",330228,14318,"calc_",350686,147,344693,6140,"picker.Slot\",{",383663,38,"pickerslot\",alternateClassName:\"Ext.Picker.Slot",252789,33,"data.Store\",\"Ext.Component\",\"Ext.data.StoreManager\"],isSlot:true,config:{title:null,showTitle:true,cls:Ext.baseCSSPrefix+\"picker-slot\",name:null,value:null,flex:1,align:\"left\",displayField:\"text\",valueField:\"value\",scrollable:{direction:\"vertical\",indicators:false,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}}",359097,38,"Index=0",359166,34,"Title:function(a){if(a){a=Ext.create(\"Ext.Component\",{cls:Ext.baseCSSPrefix+\"picker-slot-title\",docked:\"top\",html:a})}return a",241627,51,"setupBar()}if(a){this.remove(a)}},updateShowTitle:function(a){var b=this.getTitle();if(b){b[a?\"show\":\"hide\"]();this.setupBar()}},updateDisplayField:function(a){this.setItemTpl('<div class=\"'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if=\"extra\">'+Ext.baseCSSPrefix+'picker-invalid</tpl>\">{'+a+\"}</div>\")},updateAlign:function(a,c){var b=this.element;b.addCls(Ext.baseCSSPrefix+\"picker-\"+a);b.removeCls(Ext.baseCSSPrefix+\"picker-\"+c)},applyData:function(d){var f=[],c=d&&d.length,a,b,e;if(d&&Ext.isArray(d)&&c){for(a=0;a<c;a++){b=d[a];e={};if(Ext.isArray(b)){e[this.valueField]=b[0];e[this.displayField]=b[1]}else{if(Ext.isString(b)){e[this.valueField]=b;e[this.displayField]=b}else{if(Ext.isObject(b)){e=b}}}f.push(e)}}return d},updateData:function(",380582,46,"fields:[\"text\",\"value\"],data:a})",373598,43,"var a=this.getScrollable().getScroller();this.on({scope:this,painted:\"onPainted\",itemtap:\"doItemTap\"});a.on({scope:this,scrollend:\"onScrollEn",122209,32,"setupBar()},getPicker:function(){if(!this.picker){this.picker=this.getParent()}return this.picker},setupBa",183120,32,"return}var a=this.element,e=this.innerElement,f=this.getPicker(),g=f.bar,k=this.getValue(),b=this.getShowTitle(),j=this.getTitle(),h=this.getScrollable(),d=h.getScroller(),c=0,l,i;l=g.getHeight();if(b&&j){c=j.element.getHeight()}i=Math.ceil((a.getHeight()-c-l)/2);e.setStyle({padding:i+\"px 0 \"+(i)+\"px\"});d.refresh();d.setSlotSnapSize(l);this.setValue(k)},doItemTap:function(d,a,c,f){var b=this;b.selectedIndex=a;b.selectedNode=c;b.scrollToItem(c,true);b.fireEvent(\"slotpick\",b,b.getValue(true),b.selectedNode)},scrollToItem:function(e,d){var h=e.getY(),c=e.parent(),f=c.getY(),b=this.getScrollable(),a=b.getScroller(),g;g=h-f;a.scrollTo(0,g,d)},onScrollEnd:function(b,a,g){var f=this,d=Math.round(g/f.picker.bar.getHeight()),c=f.getViewItems(),e=c[d];if(e){f.selectedIndex=d;f.selectedNode=e;f.fireEvent(\"slotpick\",f,f.getValue(),f.selectedNode)}},getValue:function(c){var b=this.getStore(),a,d;if(!b){return}if(!this.rendered||!c){return this._value}if(this._value===false){return null}a=b.getAt(this.selectedIndex);d=a?a.get(this.getValueField()):null;return d},setValue:function(f){if(!Ext.isDefined(f)){return}if(!this.rendered||!f){this._value=f;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.find(d,f);if(c!=-1){e=Ext.get(a[c]);this.selectedIndex=c;this.scrollToItem(e);this._value=f}},setValueAnimated:function(f){if(!f){return}if(!this.rendered){this._value=f;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.find(d,f);if(c!=-1){e=Ext.get(a[c]);this.selectedIndex=c;this.scrollToItem(e,{duration:100});this._value=f}}});Ext.define(\"Ext.picker.Picker\",{extend:\"Ext.Sheet\",alias:\"widget.picker\",alternateClassName:\"Ext.Picker\",requires:[\"Ext.picker.Slot\",\"Ext.Toolbar\",\"Ext.data.Model\"],isPicker:true",76350,32,"picker\",doneButton:true,cancelButton:true,useTitles:false,slots:null,value:null,height:220,layout:{type:\"hbox\",align:\"stretch\"},centered:false,left:0,right:0,bottom:0,defaultType:\"pickerslot\",toolbar:true},initElement",263919,39,"var b=this,a=Ext.baseCSSPrefix,c=this.innerElement;this.mask=c.createChild({cls:a+\"picker-mask\"});this.bar=this.mask.createChild({cls:a+\"picker-bar\"});b.on({scope:this,delegate:\"pickerslot\",slotpick:\"onSlotPick\"});b.on({scope:this,show:\"onShow\"})},applyToolb",369672,33,"Ext.applyIf(a,{docked:\"top\"});return Ext.factory(a,\"Ext.TitleBar\"",393893,49,261432,41,"applyDoneButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{ui:\"action\",align:\"right\",text:\"Done\"})}return Ext.factory(a,\"Ext.Button\",this.getDoneButton())},updateDoneButton:function(c,a){var b=this.getToolbar();if(c){b.add(c);c.on(\"tap\",this.onDoneButtonTap,this)}else{if(a){b.remove(a)}}},applyCancelButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{align:\"left\",text:\"Cancel\"})}return Ext.factory(a,\"Ext.Button\",this.getCancelButton())},updateCancelButton:function(b,a){var c=this.getToolbar();if(b){c.add(b);b.on(\"tap\",this.onCancelButtonTap,this)}else{if(a){c.remove(a)}}},updateUseTitles:function(d){var f=this.getInnerItems(),e=f.length,a=Ext.baseCSSPrefix+\"use-titles\",c,b;if(d",246491,40,"for(c=0;c<e;c++){b=f[c];if(b.isSlot){b.setShowTitle(d)}}},applySlots:function(b){if(b){var c=b.length,a;for(a=0;a<c;a++){b[a].picker=this}}return b},updateSlots:function(a){var b=Ext.baseCSSPrefix,c;this.removeAll();if(a){this.add(a)}c=this.getInnerItems();if(c.length>0){c[0].addCls(b+\"first\");c[c.length-1].addCls(b+\"last\")}this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=this._value,b=this.getValue(true);if(b!=a){this.fireEvent(\"change\",this,b)}this.hide()},onCancelButtonTap:function(){this.fireEvent(\"cancel\",this);this.hide()},onSlotP",228027,32,"pick\",this,this.getValue(true),a)},onShow:function(){if(!this.isHidden()){this.setValue(this._value)}},setValue:function(k,a){var f=this,d=f.getInnerItems(),e=d.length,j,h,c,b,g;if(!k){k={};for(b=0;b<e;b++){k[d[b].config.name]=null}}for(j in k){g=k[j];for(b=0;b<d.length;b++){c=d[b];if(c.config.name==j){h=c;break}}if(h){if(a){h.setValueAnimated(g)}else{h.setValue(g)}}}f._values=f._value=k;return f},setValueAnimated:function(a){this.setValue(a,true)},getValue:function(c){var b={},a=this.getItems().items,f=a.length,e,d;if(c){for(d=0;d<f;d++){e=a[d];if(e&&e.isSlot){b[e.getName()]=e.getValue(c)}}this._values=b}return this._values",237856,38,"Value(",69836,38,");Ext.destroy(this.mask,this.bar",358448,34,"field.Select",262973,34,"selectf",250335,35,"Select\",requires:[\"Ext.Panel\",\"Ext.picker.Picker\",\"Ext.data.Stor",390302,36,"view.List\"],config:{ui:\"select\",valueField:\"value\",displayField:\"text\",store:null,options:null,hiddenName:null,component:{useMask:true},clearIcon:false,usePicker:\"auto\",defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:\"picker\"",384314,36,"=b.getComponent();b.callParent();a.on({scope:b,masktap:\"onMaskTap\"});a.input.dom.disabled=true},updateDefaultPhonePickerConfig:function(b){var a=this.picker;if(a){a.setConfig(b)}},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;if(b){b.setConfig(a)}},applyUsePicker:function(a){if(a==\"auto\"){a=(Ext.os.deviceType==\"Phone\")}return Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(d){var a=d,c,b;this.getOptions();b=this.getStore();if((d&&!d.isModel)&&b){c=b.find(this.getValueField(),d,null,null,null,true);if(c==-1){c=b.find(this.getDisplayField(),d,null,null,null,true)}a=b.getAt(c)}return a},updateValue:function(b,a){this.previousRecord=a;this.record=b;this.callParent([(b&&b.isModel)?b.get(this.getDisplayField()):\"\"]",247839,33,".record;return(a&&a.isModel)?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();if(!this.picker){this.picker=Ext.create(\"Ext.picker.Picker\",Ext.apply({slots:[{align:\"center\",name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a))}return this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();if(!this.listPanel){this.listPanel=Ext.create(\"Ext.Panel\",Ext.apply({centered:true,modal:true,cls:Ext.baseCSSPrefix+\"select-overlay\",layout:\"fit\",hideOnMaskTap:true,items:{xtype:\"list\",store:this.getStore(),itemTpl:'<span class=\"x-list-label\">{'+this.getDisplayField()+\":htmlEncode}</span>\",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a))}return this.listPanel},onMaskTap",226691,48,"this.showPicker();return false},showPicker:function(){var b=this.getStore();if(!b||b.getCount()===0){return}if(this.getReadOnly()){return}this.isFocused=true;if(this.getUsePicker()){var e=this.getPhonePicker(),d=this.getName(),h={};h[d]=this.record.get(this.getValueField());e.setValue(h);if(!e.getParent()){Ext.Viewport.add(e)}e.show()}else{var f=this.getTabletPicker(),g=f.down(\"list\"),b=g.getStore(),c=b.find(this.getValueField(),this.getValue(),null,null,null,true),a=b.getAt((c==-1)?0:c);if(!f.getParent()){Ext.Viewport.add(f)}f.showBy(this.getComponent());g.select(a,null,true)}},onListSelect:function(c,a){var b=this;if(a){b.setValue(a)}},onListTap:function(){this.listPanel.hide({type:\"fade\",out:true,scope:this})},onPickerChange:function(d,f){var e=this,g=f[e.getName()],b=e.getStore(),c=b.find(e.getValueField(),g,null,null,null,true),a=b.getAt(c);e.setValue(a)},onChange:function(f,h,e){var g=this,b=g.getStore(),d=(b)?b.find(g.getDisplayField(),e):-1,c=g.getValueField(),a=(b)?b.getAt(d):null,e=(a)?a.get(c):null;g.fireEvent(\"change\",g,g.getValue(),e)},updateOptions",380543,56,"true);a=this._store}if(!b){a.clearData()}else{a.setData(b);this.onStoreDataChanged(a)}},applyStore:function(a){if(a===true){a=Ext.create(\"Ext.data.Store\",{fields:[this.getValueField(),this.getDisplayField()]})}",393163,39,";a.on({scope:this,addrecords:this.onStoreDataChanged,removerecords:this.onStoreDataChanged,updaterecord:this.onStoreDataChanged,refresh:this.onStoreDataChanged})}return a},updateStore:function(a){if(a){this.onStoreDataChanged(a)}},onStoreDataChanged:function(a){var c=this.getInitialConfig(),b=this.getValue();if(Ext.isDefined(b)){",225084,36,"}if(this.getValue()===null){if(c.hasOwnProperty(\"value\")){this.setValue(c.value)}if(this.getValue()===null){if(a.getCount()>0){this.setValue(a.getAt(0))}}}",265675,188,"var b=this.getStore(),a=(this.originalValue)?this.originalValue:b.getAt(0);if(b&&a){this.setValue(a)}return this},onFocus:function(a){this.fireEvent(\"focus\",this,a);this.isFocused=true;this.showPicker(",69836,49,"Ext.destroy(this.listPanel,this.picker,this.hiddenField)}",266042,142,"Select",266171,108,"add2\"]':{tap:\"add2",266260,56,"edit2\"]':{tap:\"edit2",266297,57,"markdone\"]':{tap:\"markdone\"},'button[itemId=\"markdone2\"]':{tap:\"markdone2",266335,128,"'button[itemId=\"refreshList2\"]':{tap:\"refreshList2\"},mytabpanel:{activeitemchange:\"activate",266460,32,",back:\"back\"}},refs:{mytabpanel:\"tabpanel[id=mytabpanel]\",list:\"list[id=MyJsonList]\",list2:\"list[id=MyJsonList2]\",nestedList:\"nestedlist\"}},activate:function(c,e,b,d){var a=e.query(\"#MyJsonList\");var f=a[0];if(f){this.refreshList()",266551,76,"back:function(e,d,c,a,b){this.currentRecord=d.parentNode",266625,182,"dateCreated:(new Date()).getTime(),",266807,173,"add2",266630,73,266727,41,".findChild(\"text\",\"INBOX\");",266769,38,"dateCreated:(new Date()).getTime(),",266807,237,"markdone",267048,60,"var a=c.getSelection()[0];if(a.data.checked){a.data.checked=false;a.original.data.checked=false}else{a.data.checked=true;a.original.data.checked=true;a.original.data.dateFinished=(new Date()).getTime()}this.save();c.refresh()},markdone2:function(){var c=this.getList2();var b=this.getNestedList();var a=c.getSelection()[0];if(a.data.checked){a.data.checked=false;a.original.data.checked=false;if(!Ext.isString(a.original.data.last30dayTimestamps)){a.original.data.last30dayTimestamps=\"\"}var d=a.original.data.last30dayTimestamps.split(\",\");d.pop();a.original.data.last30dayTimestamps=d.join(\",\")}else{a.data.checked=true;a.original.data.checked=true;if(!Ext.isString(a.original.data.last30dayTimestamps)){a.original.data.last30dayTimestamps=\"\"}var d=a.original.data.last30dayTimestamps.split(\",\");d.push((new Date()).getTime());a.original.data.last30dayTimestamps=d.join(\",\")}this.save();c.refresh",267040,240,"edit2",267048,37,"a=c.getSelection()[0];if(a){",266891,85,"a.original)}},load:function(){var d=this.getList();var c=this.getNestedList();var b=c.getStore();var a=",397815,48,",{storeId:\"\"+new Date().getTime()});c.setStore(a);",331858,33,"b);b.destory()},save:function(){var e=this.getList();var d=this.getNestedList();var b=d",267606,164,267774,32,"if(window.location.hostname===\"sunnyjacob.co.uk\")",267805,66,267870,49,268027,221,"5",268249,375,"xtype:\"selectfield\",label:\"Frequency\",name:\"freq\",options:[{text:\"Daily\",value:\"daily\"},{text:\"Weekly\",value:\"weekly\"},{text:\"Once\",value:\"once\"}]",268621,177,";this.refreshList",268796,61,"this.getNestedList();var a=c.getStore().getRoot",268908,36,"e.data.calc_priority=0;e.bubble(function(f){e.data.calc_priority+=f.data.priority;if(e!==f&&f.data.priority>0){f.dont_include_me=true}})},this);a.cascadeBy(function(e){if(e.data.priority>0&&!e.data.checked&&e.data.freq!==\"daily\"){if(!Ext.isBoolean(e.dont_include_me)||!e.dont_include_me){var f=e.copy();f.original=e;b.push(f)}}",268960,74,",refreshList2:function(){var d=this.getNestedList();var b=d.getStore().getRoot();var c=[];function a(f){var g=true;if(f.childNodes.length===0){return true}else{f.cascadeBy(function(h){if(!h.data.checked){g=false}});return g}}b.cascadeBy(function(k){if(k.data.freq===\"daily\"&&a(k)&&k.data.checked){var l=k.data.last30dayTimestamps.split(\",\");var j=l.pop();if(Ext.isNumeric(j)){var h=new Date(j*1);var g=new Date();var f=Ext.Date.clearTime(new Date());var i=Ext.Date.between(h,f,g);if(!i){k.data.checked=false}}else{k.data.checked=false}}},this);b.cascadeBy(function(f){if(f.data.freq===\"daily\"&&a(f)&&!f.data.checked){var g=f.copy();g.original=f;c.push(g)}},this);var e=Ext.getStore(\"MyJsonStore2\");e.removeAll();e.add(c);e.sort(",350812,2485,390141,7085,353293,3434,366244,4692,397226,49,"id:\"mytabp",397269,493,"button\",handler:function(){window.location.reload()}",398616,47,397781,138,"Html",397926,111,"\"[]\"",398039,220,"}},getHtml:function(a){var c=a.myrec;var d=a.text;var e=this.getBattery(a)+\" \"+c.data.text;var b;if(c.data.checked){b=\"color: gray;\"}else{b=\"color: black;\"}return\"<span style='\"+b+\"'>\"+e+\"</span>\"",398276,185,"add2",397638,41,"edit2",397590,45,"markdone\",iconCls:\"star",398577,127,",",397877,42,"Html(values)]}</div>\",{getHtml:function(a){var c=a.myrec;var d=a.text;var e=c.data.text;var b;if(c.data.checked){b=\"color: gray;\"}else{b=\"color: black;\"}return\"<span style='\"+b+\"'>\"+e+\"</span>\"}})",398280,32,"Dailies",398321,140,"add2",397638,41,"edit2",397590,45,"markdone2\",iconCls:\"star",398577,38,"2",398615,68,"2",397807,46,"Store\",{storeId:\"MyJsonStore2\"}),",397877,42,"Html(values)]}</div>\",{getHtml:function(a){var c=a.myrec;var d=a.text;var e=c.data.text;var b;if(c.data.checked){b=\"color: gray;\"}else{b=\"color: black;\"}return\"<span style='\"+b+\"'>\"+e+\"</span>\"}})}]",398726,1062,399826,798]